<!DOCTYPE html>
<html>
  <head>
    <title>Time-Lapse Wireless Image Access</title>
    <style>
      body {
        background-image: linear-gradient(90deg, rgb(5, 175, 5), rgb(32, 97, 255));
        text-align: center;
      }
      h1 {
        font-family: sans-serif;
        font-weight: 700;
        color: yellow;
        background-color: #0003;
        padding: 7px;
        border-radius: 12px;
      }
      label {
        font-family: fantasy;
        color: white;
      }
      input, button {
        font-family: monospace;
        color: yellow;
        background-image: linear-gradient(cyan, cornflowerblue);
        text-align: center;
        padding: 7px;
        border-radius: 20px;
        border-color: rgb(82, 177, 255);
        border-style: solid;
        border-width: 3px;
      }
      input:hover, button:hover {
        cursor: pointer;
      }
      img {
        border-radius: 12px;
      }
    </style>
    <script>
      function four(Num) {
        var newNum = Num;
        while (newNum.length < 4) {
          newNum = "0" + newNum;
        }
        return newNum;
      }
      function refreshImg() {
        document.getElementById("img").src = "http://10.10.230.89:7777/" + document.getElementById("weekDay").value + "/" + document.getElementById("name").value + four(document.getElementById("imgNumber").value.toString()) + ".jpg";
        document.getElementById("openInNewTab").href = document.getElementById("img").src;
        localStorage.imageName = document.getElementById("name").value;
        localStorage.imageWeekDay = document.getElementById("weekDay").value;
        localStorage.imageNumber = document.getElementById("imgNumber").value;
      }
      function init() {
        if (localStorage.imageName != undefined) {
          document.getElementById("name").value = localStorage.imageName;
          document.getElementById("weekDay").value = localStorage.imageWeekDay;
          document.getElementById("imgNumber").value = localStorage.imageNumber;
          refreshImg();
        }
      }
    </script>
  </head>
  <body onload="init()">
    <h1>Time-Lapse Wireless Access</h1>
    <label for="name">Timelapse Name: </label>
    <input type="text" id="name" value="image" oninput="refreshImg()" size="10" title='The name of the timelapse images taken, not including the picture number.  Try "a" for week 1, "b" for week 2, and so on.'><br>
    <label for="weekDay">Day of Week: </label>
    <input type="text" id="weekDay" value="sat" oninput="refreshImg()" size="4" title='A three-letter abbreviation of a day of the week.  For example, type "wed" for the wednesday timelapse, "sat" for the saturday timelapse, and so on.'><br>
    <label for="imgNumber">Image Number</label>
    <input type="number" id="imgNumber" value="0" min="0" max="9000" oninput="refreshImg()" title='Which picture of the time lapse you are trying to get.  Each picture is in 4K, so it may take a few seconds to load.  Use "0" to get the first image in the time lapse, "1" to get the second, and so on.'><br>
    <button onclick="refreshImg()">Refresh</button>
    <a id="openInNewTab" href="" target="_blank"><button title="Click this button to open the photo below in a new tab that will allow you to easily zoom in on the image's details.">Open in New Tab</button></a>
    <br><br>
    <img id="img" src="" onload="refreshImg()" width="100%"/><br><br>
  </body>
</html>
